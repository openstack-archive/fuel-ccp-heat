dsl_version: 0.1.0
service:
  name: heat-engine
  containers:
    - name: heat-engine
      image: heat-engine
      daemon:
        command: heat-engine --config-file /etc/heat/heat.conf
        dependencies:
          - heat-api
          - "{{ messaging.dependencies[messaging.backend.rpc] }}"
          - "{{ messaging.dependencies[messaging.backend.notifications] }}"
        files:
          - heat.conf
          # {% if security.tls.openstack.enabled %}
          - ca_cert
          # {% endif %}
files:
  heat.conf:
    path: /etc/heat/heat.conf
    content: heat.conf.j2
    perm: "0600"
  # {% if security.tls.openstack.enabled %}
  ca_cert:
    path: /opt/ccp/etc/tls/ca.pem
    content: ca-cert.pem.j2
  # {% endif %}
